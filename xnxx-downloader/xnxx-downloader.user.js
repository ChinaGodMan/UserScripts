// ==UserScript==
// @name               XnxxVideos One-Click Video Downloader
// @name:ar            Xnxxvideos فيديو نقرة واحدة تنزيل
// @name:bg            Xnxxvideos видео с едно щракване Изтегляне на асистент
// @name:cs            XnxxVideos Video One-Click Stahování Asistent
// @name:da            XNXXVIDEOS VIDEO ONE-KLIK DOWNLOAD ASSISTANT
// @name:de            Xnxxvideos Video Ein-Klick-Download-Assistent
// @name:el            Xnxxvideos βίντεο
// @name:en            XnxxVideos Video One-click Download Assistant
// @name:eo            XNXXVIDEOS-video unu-klaka elŝuta asistanto
// @name:es            XNXXVIDEOS Video One-Click Descargar Asistente
// @name:fi            XNXXVIDEOS VIDEO YKSI-napsautuksen lataus Assistant
// @name:fr            XNXXVIDEOS VIDEO
// @name:fr-CA         XNXXVIDEOS VIDEO
// @name:he            Xnxxvideos וידאו עוזר להורדה בלחיצה אחת
// @name:hr            Xnxxvideos video asistent s jednim klikom
// @name:hu            Xnxxvideos videó egy kattintással letölthető asszisztens
// @name:id            XNXXVIDEOS VIDEO One-Click Download Assistant
// @name:it            XNXXVIDEOS Video Download Assistant
// @name:ja            xnxxvideosビデオワンクリックダウンロードアシスタント
// @name:ka            Xnxxvideos ვიდეო ერთი დაწკაპუნებით ჩამოტვირთვა ასისტენტი
// @name:ko            xnxxvideos 비디오 1 클릭 다운로드 어시스턴트
// @name:nb            XNXXVIDEOS Video One-Click Download Assistant
// @name:nl            Xnxxvideos video One Click Download Assistant
// @name:pl            Xnxxvideos wideo jeden kliknięcie asystenta pobierania
// @name:pt-BR         XNXXXVIDEOS VÍDEO ONE-Click Download Assistant
// @name:ro            Xnxxvideos video cu un singur clic ASSISTANT
// @name:ru            Xnxxvideos видео один клик скачать помощник
// @name:sk            Xnxxvideos video jedným kliknutím asistenta na stiahnutie
// @name:sr            Кнкквидеос Видео Оне-Цлицк Довнлоад Асистент
// @name:sv            Xnxxvideos Video One-Click Download Assistant
// @name:th            วิดีโอ XNXXVIDEOS ผู้ช่วยดาวน์โหลดหนึ่งคลิกคลิก
// @name:tr            Xnxxvideos video tek tıklamalı indir asistan
// @name:ug            Xnxxvideoss سىنلىرى بىر-بىرىنى چۈشۈرۈش ياردەمچى
// @name:uk            Xnxxvideos video One-Click Assistant
// @name:vi            Trợ lý tải xuống video xnxxvideos
// @name:zh            XnxxVideos 视频一键下载助手
// @name:zh-CN         XnxxVideos 视频一键下载助手
// @name:zh-HK         XnxxVideos 視頻一鍵下載助手
// @name:zh-SG         XnxxVideos 视频一键下载助手
// @name:zh-TW         XnxxVideos 視頻一鍵下載助手
// @description        XnxxVideos One-Click Download | xnxx.com | Download without login | Supports all available resolutions
// @description:ar     Xnxxvideos تنزيل مع نقرة واحدة |
// @description:bg     XNXXVIDEOS VIDEUT Изтегляне с едно щракване |
// @description:cs     Stáhnout XNXXVideos s jedním kliknutím |
// @description:da     XNXXVIDEOS VIDEO Download med et klik |
// @description:de     XNXXVIDEOS VIDEO DOWNALT mit einem Klick | xnxx.com |
// @description:el     Xnxxvideos Βίντεο λήψη με ένα κλικ | xnxx.com |
// @description:en     XnxxVideos Video download with one click | xnxx.com | Download directly without login | All viewable resolutions can be downloaded
// @description:eo     XNXXVideos Video Elŝuti kun unu klako | XNXX.com | Elŝutu rekte sen ensaluto |
// @description:es     XNXXVIDEOS Descarga con un clic |
// @description:fi     XNXXVIDEOS
// @description:fr     Téléchargement de la vidéo xnxxvideos en un clic |
// @description:fr-CA  Téléchargement de la vidéo xnxxvideos en un clic |
// @description:he     XNXXVIDEOS הורדה עם לחיצה אחת |
// @description:hr     XnxxVideOS Preuzmi s jednim klikom |
// @description:hu     XNXXVIDEOS VIDEÓ Letöltés egy kattintással |
// @description:id     Unduh video xnxxvideos dengan satu klik |
// @description:it     XNXXVIDEOS Video Scarica con un clic XNXX.com |
// @description:ja     XNXXVIDEOSビデオダウンロードxnxx.com |
// @description:ka     Xnxxvideos ვიდეო ჩამოტვირთვა ერთი დაჭერით |
// @description:ko     xnxvideos는 한 번의 클릭으로 다운로드 |
// @description:nb     Xnxxvideos video nedlasting med ett klikk |
// @description:nl     XNXXVIDEOS Video Download met één klik | XNXX.com | Download direct zonder inloggen |
// @description:pl     Pobieranie wideo xnxvideos za pomocą jednego kliknięcia |
// @description:pt-BR  Xnxxvideos Download com um clique | xnxx.com |
// @description:ro     Descărcare video XNXXVIDEOS cu un singur clic |
// @description:ru     Xnxxvideos видео скачать с одним кликом |
// @description:sk     Stiahnutie videa XnxxVideos s jedným kliknutím |
// @description:sr     Кнкквидеос Видео Довнлоад са једним кликом | кнкк.цом | Преузмите директно без пријаве | све видљиве резолуције могу се преузети
// @description:sv     XNXXVIDEOS VIDEO Ladda ner med ett klick |
// @description:th     ดาวน์โหลดวิดีโอ XNXXVIDEOS ด้วยการคลิกเดียว | xnxx.com |
// @description:tr     Xnxxvideos tek tıklamayla indirin |
// @description:ug     Xnxxwidess سىن چۈشۈرۈش | XNXX..com | بىۋاسىتە كىرمەي چۈشۈرۈڭ | ھەممىسى كۆرۈنىكىلى بولىدىغان قارارنى چۈشۈرگىلى بولىدۇ
// @description:uk     XNXXVIDEOS Завантажити одним клацанням |
// @description:vi     Tải xuống video XNXXVIDEOS với một lần nhấp vào |
// @description:zh     XnxxVideos 视频一键下载 | xnxx.com | 无需登录直接下载 | 可下载所有可观看分辨率
// @description:zh-CN  XnxxVideos 视频一键下载 | xnxx.com | 无需登录直接下载 | 可下载所有可观看分辨率
// @description:zh-HK  XnxxVideos 視頻一鍵下載 | xnxx.com | 無需登錄直接下載 | 可下載所有可觀看分辨率
// @description:zh-SG  XnxxVideos 视频一键下载 | xnxx.com | 无需登录直接下载 | 可下载所有可观看分辨率
// @description:zh-TW  XnxxVideos 視頻一鍵下載 | xnxx.com | 無需登錄直接下載 | 可下載所有可觀看分辨率
// @run-at             document-start
// @author             GrandScriptMasterSupreme,人民的勤务员 <china.qinwuyuan@gmail.com>
// @namespace          https://github.com/ChinaGodMan/UserScripts
// @supportURL         https://github.com/ChinaGodMan/UserScripts/issues
// @homepageURL        https://github.com/ChinaGodMan/UserScripts
// @homepage           https://github.com/ChinaGodMan/UserScripts
// @license            MIT
// @icon               data:image/png;base64,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
// @match              https://*.xnxx.com/video-*
// @match              https://xnxx.com/video-*
// @compatible         chrome
// @compatible         firefox
// @compatible         edge
// @compatible         opera
// @compatible         safari
// @compatible         kiwi
// @version            2025.03.08.0828
// @created            2025-03-07 08:21:29
// @modified           2025-03-07 08:28:40
// ==/UserScript==

/**
 * original scripts:
 * https://greasyfork.org/scripts/37263/
 * https://greasyfork.org/scripts/383564/
 * -----
 * File: xnxx-downloader.user.js
 * Project: UserScripts
 * File Created: 2025/03/08,Saturday 20:37:30
 * Author: 人民的勤务员@ChinaGodMan (china.qinwuyuan@gmail.com)
 * -----
 * Last Modified: 2025/06/03,Tuesday 11:11:22
 * Modified By: 人民的勤务员@ChinaGodMan (china.qinwuyuan@gmail.com)
 * -----
 * License: MIT License
 * Copyright © 2024 - 2025 ChinaGodMan,Inc
 */

const OPTIONS = {
    autoplay: true,// 自动播放功能
    cinemaMode: true
}

window.addEventListener('DOMContentLoaded', () => {
    const video = document.querySelector('#html5video video')
    if (video && OPTIONS.autoplay) {
        video.addEventListener('canplay', function onCanPlay() {
            document.querySelector('.big-buttons .play').dispatchEvent(new MouseEvent('click'))

            // Only run once
            video.removeEventListener('canplay', onCanPlay, false)
        })

    }
    if (document.getElementById('player')) {
        var h = document.getElementById('player')
        var hh = h.getElementsByTagName('embed')[0].getAttribute('flashvars')
        var dlink = unescape(hh.split('flv_url=')[1].split('&')[0])

        var c = document.createElement('div')
        c.style = 'display: block; z-index:10001 !important; font-size:108%; line-height:108%; color: #ffffff; background-color: #222222; border: 2px solid #7f7ebe; margin-left: auto; margin-right:auto; text-align:center; font-weight:bold;'
        c.innerHTML = '<a href=\'' + dlink + '\' style=\'margin-right:auto; margin-left:auto; align:center;\'>Download Video</a>'
        document.body.insertBefore(c, document.body.firstChild)
    } else {
        var links = {}
        var S = document.getElementsByTagName('script')
        for (var s in S) {
            if (S[s].innerHTML && S[s].innerHTML.indexOf('setVideoUrlLow') != -1) {
                links.low = S[s].innerHTML.split('html5player.setVideoUrlLow(\'')[1].split('\');')[0]
                links.high = S[s].innerHTML.split('html5player.setVideoUrlHigh(\'')[1].split('\');')[0]
                links.hld = S[s].innerHTML.split('html5player.setVideoHLS(\'')[1].split('\');')[0]
            }
        }

        for (var x in links) {
            if (!document.getElementById(x)) {
                var c = document.createElement('div')
                c.id = x
                c.style = 'display: block; z-index:10001 !important; font-size:108%; line-height:108%; color: #ffffff; background-color: #222222; border: 2px solid #7f7ebe; margin-left: auto; margin-right:auto; text-align:center; font-weight:bold;'
                if (links[x].endsWith('.m3u8')) {
                    links[x] = 'https://tools.thatwind.com/tool/m3u8downloader#m3u8=' + links[x]
                }
                c.innerHTML = '<a href=\'' + links[x] + '\' target=\'_blank\' style=\'margin-right:auto; margin-left:auto; align:center;\'>Download ' + x.toString() + ' Video</a>'
                document.body.insertBefore(c, document.body.firstChild)
            }
        }
    }
})

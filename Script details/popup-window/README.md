<!--AUTO_SHIELDS_PLEASE_DONT_DELETE_IT-->
<center><div align="center"><a href="https://github.com/ChinaGodMan" target="_blank">
    <img height="96px" width="96px" src="https://avatars.githubusercontent.com/u/96548841?v=4" alt="UserScripts"></a>
<h4><a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><ruby>人民的勤务员/UserScripts<rt>Github:@ChinaGodMan</rt></ruby></a></h4>
<a href="https://greasyfork.org/users/1169082-%E4%BA%BA%E6%B0%91%E7%9A%84%E5%8B%A4%E5%8A%A1%E5%91%98?per_page=200" target="_blank"><img src="https://img.shields.io/static/v1?label=%20&message=GreasyFork&logo=greasyfork&logoColor=white&labelColor=%23670000&color=%23670000&style=for-the-badge" alt="GreasyFork"></a>
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E8%84%9A%E6%9C%AC%E6%80%BB%E5%AE%89%E8%A3%85%E6%95%B0&query=$.totalInstalls&logo=greasyfork&logoColor=white&labelColor=%23670000&color=blue&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Total Installs">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E4%BB%8A%E6%97%A5%E6%89%80%E6%9C%89%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%E6%95%B0&query=$.totalDailyInstalls&logo=greasyfork&logoColor=white&labelColor=%23670000&color=blue&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Total Daily Installs">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E8%84%9A%E6%9C%AC%E6%95%B0%E9%87%8F&query=$.numScripts&logo=greasyfork&logoColor=white&labelColor=%23670000&color=%23670000&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Scripts Count"><br>
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E5%A5%BD%E8%AF%84&query=$.totalGoodRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=4CAF50&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Good Ratings">
<img src="https://img.shields.io/badge/dynamic/json?&label=%E6%89%80%E6%9C%89%E4%B8%80%E8%88%AC&query=$.totalOkRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=FF9800&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Ok Ratings">
<img src="https://img.shields.io/badge/dynamic/json?label=%E6%89%80%E6%9C%89%E5%B7%AE%E8%AF%84&query=$.totalBadRatings&logo=greasyfork&logoColor=white&labelColor=%23670000&color=F44336&style=for-the-badge&url=https://github.com/ChinaGodMan/UserScriptsHistory/raw/main/total_installs.json" alt="Bad Ratings">
<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><img src="https://img.shields.io/github/stars/ChinaGodMan/UserScripts?label=%E6%98%9F%E6%A0%87&logo=github&logoColor=white&labelColor=black&color=FF69B4&style=for-the-badge" alt="Stars"></a>
<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank"><img src="https://img.shields.io/github/forks/ChinaGodMan/UserScripts?label=%E5%A4%8D%E5%88%BB&logo=github&logoColor=white&labelColor=black&color=grey&style=for-the-badge" alt="Forks"></a>
<a href="https://github.com/ChinaGodMan/UserScripts/issues" target="_blank"><img src="https://img.shields.io/github/issues/ChinaGodMan/UserScripts?label=%E9%97%AE%E9%A2%98&logo=github&logoColor=white&labelColor=black&style=for-the-badge" alt="Issue"></a>
<center><div align="center"><sub>⭐<a href="https://github.com/ChinaGodMan/UserScripts" target="_blank" style="color: #556B2F; background-color: pink;">如果脚本对你有帮助,可以点亮星星以资鼓励</a>⭐</sub></div></center>
</div></center>
<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">
<!--AUTO_SHIELDS_PLEASE_DONT_DELETE_IT-END-->
<center><div align="center">
    <h1>小窗口预览</h1>
    <p>「 拖拽链接时在弹出窗口中打开链接，并在打开前提供预览，使用 Edge 的预读技术。同时在小窗口打开时在背后添加亚克力效果。 」</p>
    <img src="https://views.whatilearened.today/views/github/504880/hmjz100.svg" alt="Views">
    <p>Download：<a href="https://github.com/ChinaGodMan/UserScripts/tree/main/Script details/popup-window">Github</a> | ⭐<a
            href="https://greasyfork.org/zh-CN/scripts/504880">Greasy
            Fork</a></p><details><summary>更新记录</summary><ul>
<li><strong>2024/9/3 05:26 - Ver:.2.4.0.20</strong> <em><a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/258301#comment-527837">#527837</a>事件错误,修改为检查鼠标y轴＜1时判断移动在浏览器标签页</em></li>
<li><strong>2024/9/02 05:34 - Ver:.2.4.0.18</strong> </li>
<li>请求:<a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/258301#comment-527625">#527625</a><br><span style="color: blue;">添加功能:</span><br><em>长按鼠标模式下按下键盘不触发预览窗口<br>拖拽模式下浏览器拖住拖拽链接到新标签打开,不会触发预览窗口</em></li>
<li><strong>2024/8/29 08:39 - Ver:.2.4.0.9</strong> <em>添加拖拽时超时显示超时进度条,时间耗光取消拖拽打开预览窗口</em></li>
<li><strong>2024/8/29 06:28 - Ver:.2.4.0.8</strong> <em>移出长按时检测鼠标移动监听器,改为监听鼠标进入拖拽状态取消打开预览窗口.<a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/257270#comment-526172">#526172</a></em></li>
<li><strong>2024/8/27 00:33 - Ver: 2.4.0.5</strong> </li>
<li>
<p><em><a href="https://greasyfork.org/zh-CN/scripts/504880-small-window-preview/discussions/257270#comment-526054">#526054</a> BUG反馈:当打开一个链接的预览窗，然后点击原窗口焦点关闭预览窗之后再长按另外一个链接 , 有概率无法触发时间条打开预览窗<br>添加代码:<code>if (state.popupWindow)</code>当窗口存在时执行代码</em></p>
</li>
<li>
<p><strong>2024/8/25 04:59 - Ver: 2.4.0.2</strong></p>
</li>
<li>
<p><em><a href="https://greasyfork.org/zh-CN/scripts/504880/discussions/257270">#257270</a> 添加长按时显示倒计时, 修复长按时间过短导致在拖拽时触发长按逻辑, 增加记住窗口位置</em></p>
</li>
<li>
<p><strong>2024/8/24 07:29 - Ver: 2.4</strong></p>
</li>
<li>
<p><em>优化脚本<br>添加语言包</em></p>
</li>
<li>
<p><strong>2024/8/23 08:12 - Ver: 2.4</strong></p>
</li>
<li><em>&lt;优化脚本<br>添加长按链接弹出小窗口，用于兼容chrome插件 <code>Google Chrome 的超级拖拽 0.9.9</code><br>修复点击小窗口右上角关闭按钮时，亚克力图层不关闭的问题</em></li>
</ul></details> 
    <img src="https://raw.gitmirror.com/ChinaGodMan/UserScriptsHistory/main/stats/504880.png?t=1861894861">
</div></center>

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 功能介绍
🔗 拖拽即开小窗 — 拖拽网页链接，便捷地在小窗口中打开并预览，使用 Edge 的预读技术。小窗口后方有亚克力效果，提升视觉体验。

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

# 菜单选项说明

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 选项列表

1. **操作模式 (actionMode)**
   - **描述**：设置当前的操作模式，根据 `actionMode` 的值来确定使用哪个操作模式。
     - **操作模式 1**：`1` - 在链接长按时触发预览窗口。
     - **操作模式 2**：`2` - 在链接拖拽时触发预览窗口。
     - **默认操作模式**：`0` - 默认启用以上两种操作模式。

2. **长按持续时间 (longPressDuration)**
   - **描述**：设置长按操作的持续时间。
   - **操作**：`setLongPressDuration`，用于修改长按持续时间，与 `操作模式 (actionMode)` 配合使用。

3. **模糊效果启用 (blurEnabled)**
   - **描述**：启用或禁用背景模糊效果。
   - **操作**：`toggleBlurEffect`，用于启用或禁用模糊效果。

4. **模糊强度 (blurIntensity)**
   - **描述**：设置背景模糊的强度。

5. **点击鼠标时关闭 (closeOnMouseClick)**
   - **描述**：在主窗口（预览窗口的父窗口）点击鼠标时关闭预览窗口。
   - **操作**：`toggleCloseOnMouseClick`，用于启用或禁用点击鼠标时关闭预览窗口的设置。

6. **滚动时关闭 (closeOnScroll)**
   - **描述**：在主窗口（预览窗口的父窗口）滚动鼠标滑轮时关闭预览窗口。
   - **操作**：`toggleCloseOnScroll`，用于启用或禁用滚动鼠标时关闭预览窗口的设置。

7. **窗口宽度 (windowWidth)**
   - **描述**：设置预览窗口的宽度，启用 `保存窗口配置` 时覆盖该配置。

8. **窗口高度 (windowHeight)**
   - **描述**：设置预览窗口的高度，启用 `保存窗口配置` 时覆盖该配置。

9. **显示倒计时 (showCountdown)**
   - **描述**：当启用 `操作模式 (actionMode)=1` 长按时，在长按触发预览窗口前，在鼠标下方显示倒计时进度条，时间是 `长按持续时间 (longPressDuration)` 设定的时间。
   - **操作**：用于启用或禁用倒计时进度条显示。

10. **显示拖拽超时 (showCountdowndrag)**
   - **描述**：当启用时，在拖拽预览窗口前，在鼠标下方显示超时进度条，时间是 `拖拽超时时间 (dragTimeOut)` 设定的时间,时间耗尽,拖拽不会打开预览窗口,设定时间为0时为禁用显示以及禁用超时取消拖拽打开小窗预览。
   - **操作**：用于启用或禁用超时进度条显示。

11.  **保存窗口配置 (saveWindowConfig)**
    - **描述**：用于记忆保存窗口的大小与位置配置，会覆盖用户自己设定的预览窗口高度和宽度。

**每个选项后面都有一个对应的操作函数，这些函数用于更新菜单的设置。通过点击选项，用户可以直接改变相关配置，并立即看到效果。**

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 支持的网页
🌐 全网页适用 — 支持所有网页，随时随地享受便捷的链接预览与打开功能。

<!--AUTO_ABOUT_PLEASE_DONT_DELETE_IT-->
> ### 网页相关脚本
> - [**去除链接下划线**](https://greasyfork.org/scripts/498625): 去除网页链接的下划线
> - [**解除CSDN登录复制限制**](https://greasyfork.org/scripts/505207): 去你妈的 CSDN 登录复制，无需登录即可复制代码框内容
> - [**网页写入剪辑版授权管理器**](https://greasyfork.org/scripts/497403): 禁止网页向剪辑版拉屎，绿色为放行，红色禁止，橙色临时方向
> - [**小窗口预览**](https://greasyfork.org/scripts/504880): 拖拽链接时在弹出窗口中打开链接，并在打开前提供预览，使用 Edge 的预读技术。同时在小窗口打开时在背后添加亚克力效果。
> - [**绚丽渐变美化网页表格**](https://greasyfork.org/scripts/507036): 自动为网页上的表格所有列应用颜色渐变美化.

<!--AUTO_ABOUT_PLEASE_DONT_DELETE_IT-END-->
<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 脚本亮点：

亚克力效果：为小窗口添加美观的背景效果。
链接预读：使用 Edge 的技术加速加载。
设置选项：
可调节模糊效果强度。
自定义小窗口尺寸。

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 注意事项：
点击或滚动页面时，可以自动关闭小窗口。
立即体验！
🚀 提升浏览效率 — 安装脚本，享受智能链接预览和美观小窗口！

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 原作者

  **脚本**修改自用户 **[hiisme](https://greasyfork.org/zh-CN/users/217852)** 的脚本 [小窗预览](https://greasyfork.org/scripts/504567) 感谢原作者 **hiisme** 的**勤劳**与**智慧**

<video src="https://github.com/ChinaGodMan/UserScripts/raw/main/Script%20details/popup-window/preview/video.mp4"
       poster="https://greasyfork.s3.us-east-2.amazonaws.com/45120umjmiqk1lfkh0116ad6pnui"
       width="320" height="240" controls loop>
</video>

![1.png](https://greasyfork.s3.us-east-2.amazonaws.com/45120umjmiqk1lfkh0116ad6pnui)


<!--AUTO_HELP_PLEASE_DONT_DELETE_IT-->

<img height=6px width="100%" src="https://media.chatgptautorefresh.com/images/separators/gradient-aqua.png?latest">

## 使用帮助
<p><a href="https://github.com/ChinaGodMan/UserScripts"><strong>更多用户脚本</strong></a> /
<a href="#top">回到顶部↑</a></p>
<!--AUTO_HELP_PLEASE_DONT_DELETE_IT-END-->
